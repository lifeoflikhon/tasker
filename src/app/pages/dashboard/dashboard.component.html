<div class="border-b border-gray-100 h-12 flex items-center justify-between px-6">
  <div class="flex items-center">
    <i class="fal fa-search"></i>
    <input type="search" placeholder="Search" class="focus:outline-none focus:ring-0 border-0 text-xs placeholder-gray-400">
  </div>

  <div class="flex items-center space-x-2">
    <span>John</span>
    <div class="w-6 h-6 grid place-items-center aspect-square rounded-full bg-gray-50">
      <i class="fal fa-user"></i>
    </div>
  </div>
</div>

<div class="w-11/12 mx-auto py-4 flex items-center justify-between">
  <h2 class="font-medium text-lg">Good morning, John</h2>
  <button class="animate-pulse"><i class="fal fa-bell"></i></button>
</div>

<div  class="w-11/12 mx-auto">

  <div class="flex">
    <button *ngFor="let timeframe of timeframes"
            class="border-b border-gray-50 px-3 py-2"
            (click)="goToTime(timeframe.id)"
            [ngClass]="{'border-gray-500': activeTime === timeframe.id}"
    >{{timeframe.name}}</button>
  </div>

  <div class="grid md:grid-cols-2 gap-4 py-2" *ngIf="tasks$ | async as tasks">
    <div *ngIf="tasks | getNonBlocker as nonBlockingTasks">
      <div class="flex items-center justify-between mb-2">
        <h3 class="font-bold text-base">Regular Tasks ({{nonBlockingTasks.length}})</h3>
        <button *ngIf="activeTime === timeframesEnum.Today" (click)="addNewTask()" class="border border-gray-600 rounded">
          <tasker-text-with-icon iconName="plus" label="Add New Task"></tasker-text-with-icon>
        </button>
      </div>

      <div *ngIf="nonBlockingTasks | getIncompleted as inCompletedTasks">
        <h4>To Do ({{inCompletedTasks.length}})</h4>
        <tasker-task *ngFor="let task of inCompletedTasks"
                     [task]="task"
                     (start)="start(task)"
                     (stop)="stop(task)"
                     (view)="view(task)"
                     (block)="block(task)"
                     (active)="active(task)"
                     (inactive)="inactive(task)"
                     (complete)="complete(task)"
                     (delete)="delete(task)"
                     (duplicate)="duplicate(task)"
        ></tasker-task>

        <tasker-new-task (create)="create($event)" *ngIf="onCreationMode"></tasker-new-task>
      </div>

      <div *ngIf="nonBlockingTasks | getCompleted as completedTasks">
        <h4>Completed ({{completedTasks.length}})</h4>
        <tasker-task *ngFor="let task of completedTasks"
                     [task]="task"
                     (view)="view(task)"
                     (block)="block(task)"
                     (active)="active(task)"
                     (inactive)="inactive(task)"
                     (inComplete)="inComplete(task)"
                     (delete)="delete(task)"
                     (duplicate)="duplicate(task)"
        ></tasker-task>
      </div>
    </div>

    <ng-container *ngIf="activeTime !== timeframesEnum.Upcoming">
      <div class="md:border-l md:border-dashed md:border-gray-200 md:pl-4" *ngIf="tasks | getBlocker as blockingTasks">
        <h3 class="mb-2 font-bold text-base text-red-700">Blocker Tasks ({{blockingTasks.length}})</h3>
        <tasker-task *ngFor="let task of blockingTasks"
                     [task]="task"
                     (view)="view(task)"
                     (unblock)="unblock(task)"
                     (active)="active(task)"
                     (inactive)="inactive(task)"
                     (delete)="delete(task)"
                     (duplicate)="duplicate(task)"
        ></tasker-task>
      </div>
    </ng-container>
  </div>
</div>
